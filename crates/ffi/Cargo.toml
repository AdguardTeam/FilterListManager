[package]
name = "adguard-flm-ffi"
version = "0.8.21"
edition = "2021"
homepage.workspace = true
license-file.workspace = true
repository.workspace = true
description = "Foreign function interface crate for filter list manager library"

[lib]
crate-type = ["cdylib", "staticlib", "rlib"]
name = "filter_list_manager_ffi"

[dependencies]
adguard-flm = { path = "../filter-list-manager", version = ">=0.8.11,<1.0.0", default-features = false }
thiserror.workspace = true
uniffi.workspace = true
protobuf = "3.5.1"
prost = "0.13.2"
prost-types = "0.13.2"
prost-build = { version = "0.13.2", optional = true }
cbindgen = { version = "0.27.0", optional = true }
enum_stringify = "0.6.0"

[features]
default = ["adguard-flm/default"]
rusqlite-bundled = ["adguard-flm/rusqlite-bundled"]
rustls-tls = ["adguard-flm/rustls-tls"]
dev-build-native-assets=["prost-build", "cbindgen"]

[build-dependencies]
uniffi.workspace = true
